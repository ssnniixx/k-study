<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>이상한 샘물 - K-Study</title>
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #e0f7fa, #80deea);
      color: #333;
      margin: 0;
      padding: 0;
      line-height: 1.6;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    header {
      background-color: #26c6da;
      color: white;
      padding: 1rem;
      text-align: center;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    nav {
      background-color: #4dd0e1;
      padding: 0.5rem;
      text-align: center;
    }
    nav a {
      color: white;
      text-decoration: none;
      margin: 0 1rem;
      font-weight: bold;
      transition: color 0.3s;
    }
    nav a:hover {
      color: #e0f7fa;
    }
    .container {
      max-width: 900px;
      margin: 2rem auto;
      padding: 0 1rem;
      flex: 1;
    }
    .story, .grammar, .test {
      background-color: #ffffff;
      border-radius: 10px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s;
    }
    .story:hover, .grammar:hover, .test:hover {
      transform: translateY(-5px);
    }
    .sentence {
      margin: 1rem 0;
      position: relative;
    }
    .korean {
      font-size: 1.2rem;
      color: #006064;
      margin-bottom: 0.5rem;
    }
    .translation {
      display: none;
      font-style: italic;
      color: #00838f;
      background-color: #e0f7fa;
      padding: 0.5rem;
      border-radius: 5px;
    }
    .toggle-translation {
      cursor: pointer;
      color: #26c6da;
      font-size: 1.2rem;
      margin-left: 0.5rem;
    }
    .grammar-point {
      color: #00796b;
      font-weight: bold;
      cursor: pointer;
      position: relative;
      display: inline-block;
    }
    .grammar-point:hover .grammar-popup {
      display: block;
    }
    .grammar-popup {
      display: none;
      position: absolute;
      background-color: #b2ebf2;
      border: 1px solid #4dd0e1;
      border-radius: 5px;
      padding: 1rem;
      width: 300px;
      z-index: 10;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      top: 100%;
      left: 0;
    }
    .grammar-list, .vocabulary-list {
      display: none;
    }
    .grammar-list.active, .vocabulary-list.active {
      display: block;
    }
    .tab-buttons {
      display: flex;
      justify-content: center;
      margin-bottom: 1rem;
    }
    .tab-button {
      padding: 0.5rem 1rem;
      margin: 0 0.5rem;
      background-color: #4dd0e1;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .tab-button.active {
      background-color: #00838f;
    }
    .tab-button:hover {
      background-color: #0097a7;
    }
    .grammar-list a, .vocabulary-list a {
      color: #00796b;
      text-decoration: none;
      font-weight: bold;
    }
    .grammar-list a:hover, .vocabulary-list a:hover {
      color: #004d40;
    }
    .test-question {
      margin: 1rem 0;
    }
    .test-question input {
      padding: 0.5rem;
      border: 1px solid #4dd0e1;
      border-radius: 5px;
      width: 100px;
    }
    .test-question button {
      padding: 0.5rem 1rem;
      background-color: #26c6da;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .test-question button:hover {
      background-color: #0097a7;
    }
    .result {
      margin-top: 0.5rem;
      font-weight: bold;
    }
    .correct { color: #2e7d32; }
    .incorrect { color: #d32f2f; }
    footer {
      background-color: #26c6da;
      color: white;
      text-align: center;
      padding: 1rem;
      margin-top: auto;
    }
  </style>
</head>
<body>
  <header>
    <h1>K-Study</h1>
  </header>
  <nav>
    <a href="#home">Главная</a>
    <a href="#grammar">Грамматика/Слова</a>
    <a href="#test">Тест</a>
  </nav>
  <div class="container">
    <div class="story">
      <h2>이상한 샘물 (Странный источник)</h2>
      
      <div class="sentence" id="sentence-1">
        <div class="korean"><span class="grammar-point" data-grammar="13">깊은 산골에</span> <span class="grammar-point" data-grammar="47">마음씨 착한</span> <span class="grammar-point" data-grammar="9">할아버지와 할머니가</span> <span class="grammar-point" data-grammar="36">살고 있었습니다</span>. <span class="toggle-translation">...</span></div>
        <div class="translation">Давным-давно, в глубокой горной долине, жили-были добросердечные дедушка и бабушка.</div>
      </div>
      
      <div class="sentence" id="sentence-2">
        <div class="korean"><span class="grammar-point" data-grammar="1">동네 사람들은</span> 모두 <span class="grammar-point" data-grammar="2">할아버지와 할머니를</span> 칭찬했습니다. <span class="toggle-translation">...</span></div>
        <div class="translation">Все жители деревни хвалили дедушку и бабушку.</div>
      </div>
      
      <div class="sentence" id="sentence-3">
        <div class="korean">“저렇게 <span class="grammar-point" data-grammar="28">착하신</span> 분들은 <span class="grammar-point" data-grammar="40">오래오래 사셔야 해요</span>.” 그런데 바로 이웃에 <span class="grammar-point" data-grammar="3">마음씨가 고약한 할아버지가</span> 살고 있었습니다. <span class="toggle-translation">...</span></div>
        <div class="translation">«Такие добрые люди должны жить долго-долго!» А прямо по соседству жил старик с дурным нравом.</div>
      </div>
      
      <div class="sentence" id="sentence-4">
        <div class="korean">그 할아버지는 정말 <span class="grammar-point" data-grammar="19">심술 많고</span> <span class="grammar-point" data-grammar="23">욕심도</span> <span class="grammar-point" data-grammar="20">많았습니다</span>. <span class="toggle-translation">...</span></div>
        <div class="translation">Тот старик был действительно сварливым и очень жадным.</div>
      </div>
      
      <div class="sentence" id="sentence-5">
        <div class="korean">“저러다 <span class="grammar-point" data-grammar="2">천벌을</span> 받지, 천벌을 받아.” <span class="grammar-point" data-grammar="52">동네 사람들은 모두 혀를 차며</span> 욕심쟁이 할아버지를 욕했습니다. <span class="toggle-translation">...</span></div>
        <div class="translation">«Так и получит небесный карающий удар – небесным каром!» Жители деревни, щелкая языками, высмеивали этого жадного старика.</div>
      </div>
      
      <div class="sentence" id="sentence-6">
        <div class="korean">마음씨 착한 할아버지는 날마다 <span class="grammar-point" data-grammar="13">산에</span> 올라가 나무를 했습니다. <span class="toggle-translation">...</span></div>
        <div class="translation">Добросердечный дедушка каждый день поднимался в гору и рубил дрова.</div>
      </div>
      
      <div class="sentence" id="sentence-7">
        <div class="korean">할아버지는 나무를 더 많이 <span class="grammar-point" data-grammar="37">하고 싶었지만</span> 나이도 들고 허리도 아파서 일을 많이 <span class="grammar-point" data-grammar="49">할 수 없었습니다</span>. <span class="toggle-translation">...</span></div>
        <div class="translation">Дедушка хотел рубить ещё больше дров, но и возраст уже дал о себе знать, и спина болела, так что он не мог много работать.</div>
      </div>
      
      <div class="sentence" id="sentence-8">
        <div class="korean">그래서 “조금만 더 <span class="grammar-point" data-grammar="46">젊었으면</span> 얼마나 <span class="grammar-point" data-grammar="33">좋을까</span>!” 하고 생각했습니다. <span class="toggle-translation">...</span></div>
        <div class="translation">Поэтому он подумал: «Как было бы хорошо, если бы я был чуть моложе!»</div>
      </div>
      
      <div class="sentence" id="sentence-9">
        <div class="korean"><span class="grammar-point" data-grammar="46">할아버지가 짐을 지고 산을 내려오면</span>, 할머니가 지팡이를 짚고 마중을 나왔습니다. <span class="toggle-translation">...</span></div>
        <div class="translation">Когда дедушка нес груз и спускался с горы, бабушка уже выходила навстречу, опираясь на трость.</div>
      </div>
      
      <div class="sentence" id="sentence-10">
        <div class="korean">할머니는 “조금만 <span class="grammar-point" data-grammar="38">젊었으면 영감을 따라 산에 오를 텐데</span>.” 하고 생각했습니다. <span class="toggle-translation">...</span></div>
        <div class="translation">Бабушка думала: «Если бы я тоже была моложе, я пошла бы в гору вслед за дедушкой.»</div>
      </div>
      
      <div class="sentence" id="sentence-11">
        <div class="korean">하지만 다리가 아파서 <span class="grammar-point" data-grammar="49">할아버지를 따라 올라갈 수 없었습니다</span>. <span class="toggle-translation">...</span></div>
        <div class="translation">Но ноги болели, и она не могла подняться вслед за дедушкой.</div>
      </div>
      
      <div class="sentence" id="sentence-12">
        <div class="korean">그날도 마음씨 착한 할아버지는 나무를 <span class="grammar-point" data-grammar="36">하고 있었습니다</span>. <span class="toggle-translation">...</span></div>
        <div class="translation">И в тот день добросердечный дедушка снова рубил дрова.</div>
      </div>
      
      <div class="sentence" id="sentence-13">
        <div class="korean">그때 파랑새 한 마리가 <span class="grammar-point" data-grammar="43">옆으로</span> 날아와 계속 노래를 불렀습니다. <span class="toggle-translation">...</span></div>
        <div class="translation">Тогда одна голубая птичка подлетела к дедушке и всё время пела ему песни.</div>
      </div>
      
      <div class="sentence" id="sentence-14">
        <div class="korean">파랑새는 날아올라며 <span class="grammar-point" data-grammar="12">이 나무에서 저 나무로</span> 이 바위에서 저 바위로 날아갔어요. <span class="toggle-translation">...</span></div>
        <div class="translation">Птичка-голубка взлетела и перелетала с одного дерева на другое, с этого камня на тот, потом улетела.</div>
      </div>
      
      <div class="sentence" id="sentence-15">
        <div class="korean">할아버지는 다리가 후들거렸지만 파랑새를 <span class="grammar-point" data-grammar="49">놓칠까 봐</span> 땀을 뺏뺏 흘리며 쫓아갔어요. <span class="toggle-translation">...</span></div>
        <div class="translation">Ноги у дедушки дрожали, но он, боясь упустить птичку, во весь голос бежал за ней, облившись потом.</div>
      </div>
      
      <div class="sentence" id="sentence-16">
        <div class="korean"><span class="grammar-point" data-grammar="19">고개를 넘고</span>, 계곡을 건너서 한참을 따라갔어요. <span class="toggle-translation">...</span></div>
        <div class="translation">Он перелез через перевал, пересёк ущелье и продолжал идти очень долго.</div>
      </div>
      
      <div class="sentence" id="sentence-17">
        <div class="korean">하지만 할아버지는 목도 마르고 다리도 아파서 더 이상 <span class="grammar-point" data-grammar="49">걸을 수 없었습니다.</span> <span class="toggle-translation">...</span></div>
        <div class="translation">Но у дедушки пересохло в горле, а ноги ещё сильнее заболели, и он уже не мог идти дальше.</div>
      </div>
      
      <div class="sentence" id="sentence-18">
        <div class="korean"><span class="grammar-point" data-grammar="45">할아버지의 마음을</span> 어떻게 <span class="grammar-point" data-grammar="70">알았는지</span> 파랑새가 한 나무에 내려와 <span class="grammar-point" data-grammar="59">앉았는데</span> 그 밑으로 맑은 샘물이 솟아오르고 있었어요. <span class="toggle-translation">...</span></div>
        <div class="translation">Как будто понимая, о чём думает дедушка, голубая птичка села на одно дерево, и прямо под ним забил чистый источник.</div>
      </div>
      
      <div class="sentence" id="sentence-19">
        <div class="korean">할아버지는 두 손으로 샘물을 꿀꺽꺽 마셨습니다. <span class="toggle-translation">...</span></div>
        <div class="translation">Дедушка обеими руками залпом пил воду из источника.</div>
      </div>
      
      <div class="sentence" id="sentence-20">
        <div class="korean">그러고 나니 이상하게 잠이 와서, 할아버지는 바위에 누워 깊은 잠에 빠져들었어요. <span class="toggle-translation">...</span></div>
        <div class="translation">После этого (он) вдруг почувствовал странную сонливость, лёг на камень и погрузился в глубокий сон.</div>
      </div>
      
      <div class="sentence" id="sentence-21">
        <div class="korean">날이 어두워지고, 어느새 달이 떠올랐습니다. <span class="toggle-translation">...</span></div>
        <div class="translation">День стал темнеть, вскоре поднялся месяц.</div>
      </div>
      
      <div class="sentence" id="sentence-22">
        <div class="korean">그런데도 할아버지가 <span class="grammar-point" data-grammar="14">돌아오지 않자</span>, 할머니는 <span class="grammar-point" data-grammar="82">걱정이 되었습니다</span>. <span class="toggle-translation">...</span></div>
        <div class="translation">Но дедушка всё же не вернулся, и бабушка забеспокоилась.</div>
      </div>
      
      <div class="sentence" id="sentence-23">
        <div class="korean">할머니는 무서웠지만 혼자서 할아버지를 찾아 나섰어요. <span class="toggle-translation">...</span></div>
        <div class="translation">Бабушка испугалась, но всё равно отправилась искать дедушку в одиночку.</div>
      </div>
      
      <div class="sentence" id="sentence-24">
        <div class="korean">어두운 밤길을 한참 걷다 보니 저쪽에서 누군가 걸어오는 게 보였어요. <span class="toggle-translation">...</span></div>
        <div class="translation">Пойдя долго по тёмной ночной тропинке, она увидела, что кто-то идёт навстречу оттуда.</div>
      </div>
      
      <div class="sentence" id="sentence-25">
        <div class="korean">할머니는 너무 반가워 달려갔지만, 할아버지가 아니라 어떤 젊은 사람이었어요. <span class="toggle-translation">...</span></div>
        <div class="translation">Бабушка, обрадовавшись, побежала навстречу, но это был не дедушка, а какой-то молодой человек.</div>
      </div>
      
      <div class="sentence" id="sentence-26">
        <div class="korean">할머니는 힘이 빠져서 <span class="grammar-point" data-id="grammar="50">그냥 지나가려고</span> 하는데 그 젊은 사람이 <span class="grammar-point" data-grammar="44">할머니에게</span> 다가왔어요. <span class="toggle-translation">...</span></div>
        <div class="translation">Бабушка ослабла и собиралась просто пройти мимо, когда тот молодой человек подошёл к ней.</div>
      </div>
      
      <div class="sentence" id="sentence-27">
        <div class="korean">“할머니, 나야!” <span class="toggle-translation">...</span></div>
        <div class="translation">«Бабуля, это я!»</div>
      </div>
      
      <div class="sentence" id="sentence-28">
        <div class="korean">할머니는 너무 놀랐지만 옷과 지게는 <span class="grammar-point" data-grammar="45">할머니의</span> 물건이 분명했어요. <span class="toggle-translation">...</span></div>
        <div class="translation">Бабушка очень испугалась, но одежда и ношёнка однозначно были дедушкины вещи.</div>
      </div>
      
      <div class="sentence" id="sentence-29">
        <div class="korean">그런데 <span class="grammar-point" data-grammar="45">할아버지의</span> 주글주글한 피부는 팽팽해졌고, <span class="grammar-point" data-grammar="20">굽은 허리도 곧게 펴져 있었습니다</span>. <span class="toggle-translation">...</span></div>
        <div class="translation">Но кожа дедушки, вся морщинистая, вдруг стала гладкой, а сутулая спина выпрямилась.</div>
      </div>
      
      <div class="sentence" id="sentence-30">
        <div class="korean">할아버지는 파랑새를 <span class="grammar-point" data-grammar="35">따라가다가</span> 샘물을 마신 이야기를 <span class="grammar-point" data-grammar="42">할머니에게 해 주었어요</span>. <span class="toggle-translation">...</span></div>
        <div class="translation">Дедушка рассказал бабушке, как он гнался за голубой птичкой и выпил воду из источника.</div>
      </div>
      
      <div class="sentence" id="sentence-31">
        <div class="korean"><span class="grammar-point" data-grammar="19">할아버지의 말을 듣고</span> 할머니도 <span class="grammar-point" data-grammar="43">샘물로</span> 가서 그 물을 마셨어요. <span class="toggle-translation">...</span></div>
        <div class="translation">Услышав слова дедушки, бабушка тоже пошла к источнику и выпила воду.</div>
      </div>
      
      <div class="sentence" id="sentence-32">
        <div class="korean">샘물을 마신 할머니도 <span class="span class="grammar-point" data-grammar="23">젊고 예쁜 부인이</span> 되었어요. <span class="toggle-translation">...</span>
</div>
        <div class="translation">Испив воду, бабушка тоже стала молодой и прекрасной женщиной.</div>
      </div>
      
      <div class="sentence" id="sentence-33">
        <div class="korean">이 이야기를 들은 마음씨 고약한 할아버지는 배가 아파서 <span class="grammar-point" data-grammar="49">견딜 수 없었어요</span>. <span class="toggle-translation">...</span></div>
        <div class="translation">Услышав эту историю, сосед-жадина настолько забеспокоился, что у него заболел живот, и терпеть дальше он не мог.</span>
      </div>
      
      <div class="sentence" id="sentence-34">
        <div class="korean">그래서 <span class="grammar-point" data-grammar="2">부부를</span> 찾아가 물어보았어요. <span class="toggle-translation">...</span></div>
        <div class="translation">Тогда он отправился к добросердечной пары и спросил их обо всём.</div>
      </div>
      
      <div class="sentence" id="sentence-35">
        <div class="korean">마음씨 착한 부부는 샘물을 마신 이야기를 <span class="grammar-point" data-grammar="42">해 주었어요</span> <span class="toggle-translation">...</span></div>
        <div class="translation">Добросердечная пара рассказала ему историю про воду из этого источника.</div>
      </div>
      
      <div class="sentence" id="sentence-36">
        <div class="korean">그러자 마음씨 고약한 할아버지도 그 <span class="grammar-point" data-grammar="43">샘물로</span> 찾아갔어요. <span class="toggle-translation">...</span></div>
        <div class="translation">И тогда злой старик тоже отправился искать источник.</div>
      </div>
      
      <div class="sentence" id="sentence-37">
        <div class="korean">그런데 그날 밤, 할아버지는 <span class="grammar-point" data-grammar="14">돌아오지 않았어요</span> <span class="toggle-translation">...</span>
</div>
        <div class="translation">Однако той ночью старик не вернулся.</div>
      </div>
      
      <div class="sentence" id="sentence-38">
        <div class="korean">부부는 <span class="grammar-point" data-grammar="82">걱정이 되어</span> 마음씨 고약한 할아버지를 찾아 <span class="grammar-point" data-grammar="13">샘물이 있는 곳으로</span> 갔어요. <span class="toggle-translation">...</span>
</div>
        <div class="translation">Пара, встревоженная, пошла искать того старика к месту, где должен быть тот самый источник.</div>
      </div>
      
      <div class="sentence" id="sentence-39">
        <div class="korean">그런데 할아버지가 없고, “응애애애애! 응애애애!” 하고 <span class="grammar-point" data-grammar="24">갓난아기만</span> 울고 있었어요. <span class="toggle-translation">...</span></div>
        <div class="translation">Но старика там не оказалось, а вместо него «уаэуаэ» плакал только новорождённый младенец.</div>
      </div>
      
      <div class="sentence" id="sentence-40">
        <div class="korean">젊은 부부가 아기를 안아 올리자, 아기는 울음을 뚝 그치고 방긋 웃었어요. <span class="toggle-translation">...</span></div>
        <div class="translation">Когда молодая пара подняла ребёнка на руки, он вдруг замолчал и широко улыбнулся.</div>
      </div>
      
      <div class="sentence" id="sentence-41">
        <div class="korean">그 아이는 바로 이웃 마을의 마음씨 고약한 할아버지<span class="grammar-point" data-grammar="4">였어요</span>. <span class="toggle-translation">...</span></div>
        <div class="translation">Оказалось, что этот младенец был вовсе не старик, живший по соседству, а он сам оказался новорождённым младенцем.</div>
      </div>
      
      <div class="sentence" id="sentence-42">
        <div class="korean"><span class="grammar-point" data-grammar="2">욕심을</span> 부려서 샘물을 너무 많이 마신 <span class="grammar-point" data-grammar="4">것</span>. <span class="toggle-translation">...</span></div>
        <div class="translation">Жадный старик выпил слишком много воды из источника.</div>
      </div>
      
      </div class="sentence" id="sentence-43">
        <div class="korean">마음씨 착한 부부는 이 아이를 <span class="grammar-point" data-grammar="71">키우기로 했어요</span> <span class="toggle-translation">...</span></div>
        <div class="translation">Добросердечная пара решила воспитать этого ребёнка.</div>
      </div>
      
      <div class="sentence" id="sentence-44">
        <div class="korean">그리고 아주 건강하고 행복하게 <span class="grammar-point" data-grammar="36">살았어요</span>. <span class="toggle-translation">...</span></div>
        <div class="translation">И они жили очень здорово и счастливо.</div>
      </div>
      
    </div>

    <div class="grammar" id="grammar">
      <h2>Грамматика и Сложные слова</h2>
      <div class="tab-buttons">
        <button class="tab-button active" data-tab="grammar">Грамматика</button>
        <button class="tab-button" data-tab="vocabulary">Словарь</button>
      </div>
      <div class="grammar-list active">
        <h3>Грамматика</h3>
        <ul>
          <li><a href="#sentence-2" class="grammar-link" data-grammar="1">N + 은/는</a>: Тематические частицы 은/는 обозначают тему предложения или объект обсуждения. Они эквивалентны английским оборотам "as for..." или "regarding...". В тексте: 동네 사람들은 — "что касается жителей деревни". Пример: 저는 학생입니다. (Что касается меня, я — студент.) </li>
          <li><a href="#sentence-2" class="grammar-link" data-grammar="2">N + 을/를</a>: Объектная частица указывает на прямое дополнение. 를 — после гласных, 을 — после согласных. В тексте: 할아버지와 할머니를 — "дедушку и бабушку". Пример: 밥을 먹어요. (Ем рис.)</li>
          <li><a href="#sentence-3" class="grammar-link" data-grammar="3">N + 이/가</a>: Именительный падеж, указывает на подлежащее. 이 — после согласных, 가 — после гласных. В тексте: 마음씨가 고약한 할아버지가 — "старик с дурным нравом". Пример: 고양이가 있어요. (Кот есть.)</li>
          <li><a href="#sentence-41" class="grammar-link" data-grammar="4">N + 입니다</a>: Вежливая связка «есть/это» после существительного. В тексте: 것입니다 — "(объяснение того факта)". Пример: 저는 학생입니다. (Я — студент.)</li>
          <li><a href="#sentence-1" class="grammar-link" data-grammar="9">N + 와/과/하고</a>: Совместный падеж для соединения однородных членов. В тексте: 할아버지와 할머니가 — "дедушка и бабушка". Пример: 친구와 영화를 봤어요. (С другом посмотрел фильм.)</li>
          <li><a href="#sentence-1" class="grammar-link" data-grammar="10">V/A + ㅂ니다/습니다</a>: Официально-вежливый стиль. ㅂ다 — после гласных, 습니다 — после согласных. В тексте: 있었습니다 — "было". Пример: 어제는 비가 왔습니다. (Вчера шёл дождь.)</li>
          <li><a href="#sentence-14" class="grammar-link" data-grammar="12">N + 에서</a>: Дательно-местный падеж, обозначает место действия или исходный пункт. В тексте: 이 나무에서 저 나무로 — с одного дерева на другое". Пример: 도서관에서 공부해요. (Учусь в библиотеке.)</li>
          <li><a href="#sentence-1" class="grammar-link" data-grammar="13">N + 에</a>: Дательный падеж, обозначает время, направление или местонахождение. В тексте: 깊은 산골에 — "в глубокой горной долине". Пример: 학교에 갑니다. (Я иду в школу.)</li>
          <li><a href="#sentence-22" class="grammar-link" data-grammar="14">A/V + 지 않다</a>: Отрицание для глаголов и прилагательных. В тексте: 돌아오지 않자 — "не вернулся и". Пример: 집에 가지 않아요. (Не иду домой.)</li>
          <li><a href="#sentence-4" class="grammar-link" data-grammar="19">V/A + 고</a>: Соединяет однородные члены или указывает последовательность. В тексте: 심술 많고 — "сварливый и". Пример: 밥을 먹고 공부해요. (Поел и учусь.)</li>
          <li><a href="#sentence-4" class="grammar-link" data-grammar="20">V/A + 았/었/였다</a>: Прошедшее время. 았 — после ㅏ/ㅗ, 었 — после остальных гласных, 였다 — после согласных. В тексте: 많았습니다 — "было много". Пример: 어제 공부했어요. (Вчера я учился.)</li>
          <li><a href="#sentence-4" class="grammar-link" data-grammar="23">N + 도</a>: Частица «тоже, также». В тексте: 욕심도 — "и жадность тоже". Пример: 나도 갈 거예요. (Я тоже пойду.)</li>
          <li><a href="#sentence-39" class="grammar-link" data-grammar="24">N + 만</a>: Частица «только». В тексте: 갓난아기만 — "только младенец". Пример: 물만 마셨어요. (Я пил только воду.)</li>
          <li><a href="#sentence-7" class="grammar-link" data-grammar="25">V/A + 지만</a>: Указывает на противопоставление или уступку. В тексте: 하고 싶었지만 — "хотел, но". Пример: 가고 싶지만 시간이 없어요. (Хочу пойти, но нет времени.)</li>
          <li><a href="#sentence-3" class="grammar-link" data-grammar="28">V/A + (으)시다</a>: Уважительная форма. 시다 — после гласных или ㄹ, 으시다 — после согласных. В тексте: 착하신 — "добрые (уважительно)". Пример: 들어오십시요. (Заходите (уважительно).)</li>
          <li><a href="#sentence-8" class="grammar-link" data-grammar="33">V/A + 을/ㄹ까요?</a>: Вежливый вопрос, выражающий предложение или сомнение. В тексте: 좋을까 — "было бы хорошо?". Пример: 갈까요? (Пойдём?)</li>
          <li><a href="#sentence-30" class="grammar-link" data-grammar="35">V + 다가</a>: Указывает на прерванное действие или смену действия. В тексте: 따라가다가 — "гоняясь, затем". Пример: 밥을 먹다가 전화가 왔어요. (Ел, когда позвонили.)</li>
          <li><a href="#sentence-1" class="grammar-link" data-grammar="36">V + 고 있다</a>: Указывает на продолжающееся действие. В тексте: 살고 있었습니다 — "жили". Пример: 지금 공부하고 있어요. (Сейчас я учусь.)</li>
          <li><a href="#sentence-7" class="grammar-link" data-grammar="37">V + 고 싶다</a>: Выражает желание. В тексте: 하고 싶었지만 — "хотел, но". Пример: 한국에 가고 싶어요. (Хочу поехать в Корею.)</li>
          <li><a href="#sentence-10" class="grammar-link" data-grammar="38">V/A + (으)ㄹ 텐데</a>: Выражает сожаление или предположение. В тексте: 오를 텐데 — "поднялась бы, но". Пример: 비가 안 왔으면 좋을 텐데. (Жаль, что идёт дождь.)</li>
          <li><a href="#sentence-3" class="grammar-link" data-grammar="40">V/A + 아/어/여야 하다</a>: Выражает необходимость или обязанность. В тексте: 사셔야 해요 — "должны жить". Пример: 공부해야 해요. (Надо учиться.)</li>
          <li><a href="#sentence-30" class="grammar-link" data-grammar="42">V + 아/어/여 주다</a>: Указывает на действие, выполненное для кого-то. В тексте: 해 주었어요 — "рассказал (кому-то)". Пример: 도와주세요. (Помогите.)</li>
          <li><a href="#sentence-13" class="grammar-link" data-grammar="43">N + (으)로</a>: Творительный падеж, обозначает направление, средство или способ. В тексте: 샘물로 — "к источнику". Пример: 버스로 학교에 가요. (Еду в школу на автобусе.)</li>
          <li><a href="#sentence-26" class="grammar-link" data-grammar="44">N + 에게/한테/께</a>: Дательный падеж для обозначения получателя действия. В тексте: 할머니에게 — "бабушке". Пример: 친구에게 선물을 줬어요. (Дал другу подарок.)</li>
          <li><a href="#sentence-18" class="grammar-link" data-grammar="45">N + 의</a>: Родительный падеж, обозначает принадлежность. В тексте: 할아버지의 — "дедушкин". Пример: 나의 책. (Моя книга.)</li>
          <li><a href="#sentence-8" class="grammar-link" data-grammar="46">V + (으)면</a>: Условное предложение. В тексте: 젊었으면 — "если бы был моложе". Пример: 시간이 있으면 갈게요. (Если будет время, я пойду.)</li>
          <li><a href="#sentence-1" class="grammar-link" data-grammar="47">A + (으)ㄴ + N</a>: Определительная форма прилагательного. В тексте: 마음씨 착한 — "добросердечный". Пример: 예쁜 꽃. (Красивый цветок.)</li>
          <li><a href="#sentence-7" class="grammar-link" data-grammar="49">V + 을/ㄹ 수 없다</a>: Выражает невозможность действия. В тексте: 할 수 없었습니다 — "не мог сделать". Пример: 수영할 수 없어요. (Я не умею плавать.)</li>
          <li><a href="#sentence-26" class="grammar-link" data-grammar="50">V + (으)려고</a>: Выражает намерение. В тексте: 지나가려고 — "собиралась пройти мимо". Пример: 밥을 먹으려고 해요. (Собираюсь поесть.)</li>
          <li><a href="#sentence-5" class="grammar-link" data-grammar="52">V/A + (으)면서</a>: Указывает на одновременное действие. В тексте: 혀를 차며 — "цокая языком". Пример: 웃으며 말했어요. (Говорил, смеясь.)</li>
          <li><a href="#sentence-18" class="grammar-link" data-grammar="59">V/A + 는데</a>: Указывает на контекст, причину или противопоставление. В тексте: 앉았는데 — "сел, и". Пример: 배고프는데 밥이 없어요. (Я голоден, но еды нет.)</li>
          <li><a href="#sentence-18" class="grammar-link" data-grammar="70">V + 는지 알다/모르다</a>: Вопросительное придаточное предложение. В тексте: 알았는지 — "как будто знал". Пример: 어디 가는지 몰라요. (Не знаю, куда он идёт.)</li>
          <li><a href="#sentence-43" class="grammar-link" data-grammar="71">V + 기로 하다</a>: Выражает решение сделать что-либо. В тексте: 키우기로 했어요 — "решили воспитать". Пример: 내일 가기로 했어요. (Решил пойти завтра.)</li>
          <li><a href="#sentence-22" class="grammar-link" data-grammar="82">V + 게 되다</a>: Указывает на непреднамеренное или изменившееся состояние. В тексте: 걱정이 되었습니다 — "забеспокоилась". Пример: 늦게 됐어요. (Я опоздал.)</li>
        </ul>
      </div>
      <div class="vocabulary-list">
        <h3>Словарь</h3>
        <ul>
          <li><strong>산골</strong> — горная деревня<br>Пример: 산골에서 조용히 살았다. (Он жил тихо в горной деревне.)</li>
          <li><strong>마음씨</strong> — характер, нрав<br>Пример: 그녀는 마음씨가 따뜻하다. (У неё добрый нрав.)</li>
          <li><strong>칭찬하다</strong> — хвалить<br>Пример: 선생님이 학생을 칭찬했다. (Учитель похвалил ученика.)</li>
          <li><strong>고약하다</strong> — быть злым, дурным (о характере)<br>Пример: 그의 성격이 고약하다. (У него дурной характер.)</li>
          <li><strong>심술</strong> — сварливость, злоба<br>Пример: 심술을 부리지 마세요. (Не будь сварливым.)</li>
          <li><strong>욕심</strong> — жадность, алчность<br>Пример: 욕심 때문에 실패했다. (Он потерпел неудачу из-за жадности.)</li>
          <li><strong>천벌</strong> — небесная кара<br>Пример: 나쁜 일을 하면 천벌을 받는다. (За плохие дела получишь небесную кару.)</li>
          <li><strong>혀를 차다</strong> — цокать языком<br>Пример: 그는 혀를 차며 떠났다. (Он ушёл, цокая языком.)</li>
          <li><strong>욕심쟁이</strong> — жадный человек<br>Пример: 욕심쟁이는 친구가 없다. (У жадного человека нет друзей.)</li>
          <li><strong>나무하다</strong> — рубить дрова<br>Пример: 그는 산에서 나무를 한다. (Он рубит дрова в горах.)</li>
          <li><strong>허리</strong> — спина, поясница<br>Пример: 허리가 아파서 못 앉는다. (Я не могу сидеть из-за боли в спине.)</li>
          <li><strong>지팡이</strong> — трость<br>Пример: 할머니는 지팡이를 짚는다. (Бабушка опирается на трость.)</li>
          <li><strong>마중</strong> — встреча (кого-то)<br>Пример: 역에서 친구를 마중했다. (Я встретил друга на вокзале.)</li>
          <li><strong>파랑새</strong> — голубая птица<br>Пример: 파랑새는 행운을 가져온다. (Голубая птица приносит удачу.)</li>
          <li><strong>후들거리다</strong> — дрожать (о ногах)<br>Пример: 피곤해서 다리가 후들거린다. (От усталости дрожат ноги.)</li>
          <li><strong>뻘뻘</strong> — обильно (о поте)<br>Пример: 더워서 땀을 뻘뻘 흘렸다. (Я весь вспотел от жары.)</li>
          <li><strong>고개</strong> — холм, перевал<br>Пример: 고개를 넘어 마을에 갔다. (Я перевалил через холм и пошёл в деревню.)</li>
          <li><strong>계곡</strong> — долина, ущелье<br>Пример: 계곡에서 물을 마셨다. (Я пил воду в долине.)</li>
          <li><strong>샘물</strong> — родниковая вода<br>Пример: 샘물을 마시면 건강해진다. (Пить родниковую воду полезно.)</li>
          <li><strong>솟아오르다</strong> — бить (о роднике), подниматься<br>Пример: 물이 샘에서 솟아오른다. (Вода бьёт из родника.)</li>
          <li><strong>꿀꺽꿀꺽</strong> — жадно (о питье)<br>Пример: 목이 말라 물을 꿀꺽꿀꺽 마셨다. (Я жадно пил воду от жажды.)</li>
          <li><strong>주글주글하다</strong> — быть морщинистым<br>Пример: 나이 들면 피부가 주글주글해진다. (С возрастом кожа становится морщинистой.)</li>
          <li><strong>팽팽하다</strong> — быть гладким, упругим<br>Пример: 젊은 피부는 팽팽하다. (Молодая кожа гладкая.)</li>
          <li><strong>갓난아기</strong> — младенец<br>Пример: 갓난아기를 조심히 안았다. (Я осторожно держал младенца.)</li>
          <li><strong>방긋방긋</strong> — широко (о улыбке)<br>Пример: 아기가 방긋방긋 웃는다. (Младенец широко улыбается.)</li>
        </ul>
      </div>
    </div>

    <div class="test" id="test">
      <h2>Тест на самопроверку</h2>
      <p>Вставьте пропущенные грамматические конструкции. После заполнения нажмите "Проверить" для проверки ответа.</p>
      
      <div class="test-question">
        <div>내일 서울<input type="text" data-answer="에"> 여행을 가요.</div>
        <div>Завтра я еду в Сеул.</div>
        <button onclick="checkAnswer(this, '에')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>이건 작<input type="text" data-answer="은"> 집이에요.</div>
        <div>Это маленький дом.</div>
        <button onclick="checkAnswer(this, '은')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>저는 친구<input type="text" data-answer="와/과/하고"> 동생을 만났어요.</div>
        <div>Я встретил(а) брата друга.</div>
        <button onclick="checkAnswer(this, '와/과/하고')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>지금 선생님이 수업을 가르치<input type="text" data-answer="고 있다"> 있어요.</div>
        <div>Сейчас учитель ведёт урок.</div>
        <button onclick="checkAnswer(this, '고 있다')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>매일 아침 조깅합<input type="text" data-answer="니다">.</div>
        <div>Каждое утро я выхожу на пробежку.</div>
        <button onclick="checkAnswer(this, '니다')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>날씨<input type="text" data-answer="는"> 사람들이 많이 나왔어요.</div>
        <div>Из-за погоды вышло много людей.</div>
        <button onclick="checkAnswer(this, '는')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>할아버지께서는 건강하<input type="text" data-answer="십니다">.</div>
        <div>Дедушка здоров.</div>
        <button onclick="checkAnswer(this, '십니다')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>학교에 가<input type="text" data-answer="야"> 숙제를 해야 해요.</div>
        <div>Чтобы пойти в школу, нужно сделать домашнее задание.</div>
        <button onclick="checkAnswer(this, '야')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>커피를 마시<input type="text" data-answer="고"> 책을 읽었어요.</div>
        <div>Я прочитал(а) книгу, попивая кофе.</div>
        <button onclick="checkAnswer(this, '고')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>저도 피자<input type="text" data-answer="를"> 먹었어요.</div>
        <div>Я тоже ел(а) пиццу.</div>
        <button onclick="checkAnswer(this, '를')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>어제 본 영화가 재미있<input type="text" data-answer="은">.</div>
        <div>Фильм, который я вчера смотрел(а), был интересным.</div>
        <button onclick="checkAnswer(this, '은')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>버스를 기다리<input type="text" data-answer="면서"> 음악을 들었어요.</div>
        <div>Пока ждал(а) автобус, слушал(а) музыку.</div>
        <button onclick="checkAnswer(this, '면서')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>선생님<input type="text" data-answer="을"> 질문을 했어요.</div>
        <div>Я задал(а) вопрос учителю.</div>
        <button onclick="checkAnswer(this, '을')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>저는 새 차를 사<input type="text" data-answer="고 싶다"> 싶어요.</div>
        <div>Я хочу купить новую машину.</div>
        <button onclick="checkAnswer(this, '고 싶다')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>날씨가 춥<input type="text" data-answer="지만"> 밖에 나가기 싫어요.</div>
        <div>Погода холодная, но я всё равно хочу выйти на улицу.</div>
        <button onclick="checkAnswer(this, '지만')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>저는 수영을 할<input type="text" data-answer="수 없다"> 수 없어요.</div>
        <div>Я не умею плавать.</div>
        <button onclick="checkAnswer(this, '수 없다')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>비가 오<input type="text" data-answer="면"> 산책하지 않을 거예요.</div>
        <div>Если пойдёт дождь, я не пойду гулять.</div>
        <button onclick="checkAnswer(this, '면')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>내일 같이 점심을 먹<input type="text" data-answer="을까요">?</div>
        <div>Встретимся завтра на обед?</div>
        <button onclick="checkAnswer(this, '을까요')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>지금 인천공항에 도착했으면 배웅하러 공항에 갈<input type="text" data-answer="텐데">요.</div>
        <div>Если бы я сейчас был(а) в аэропорту Инчхон, я бы пришёл(ла) провожать.</div>
        <button onclick="checkAnswer(this, '텐데')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>기차<input type="text" data-answer="로"> 부산으로 갑니다.</div>
        <div>Поезд следует в Пусан.</div>
        <button onclick="checkAnswer(this, '로')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>친구한테 줄 편지를 빨리 써<input type="text" data-answer="야">.</div>
        <div>Пиши письмо другу поскорее.</div>
        <button onclick="checkAnswer(this, '야')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>교실<input type="text" data-answer="에서"> 책상 위에 책이 있어요.</div>
        <div>В классе на столе лежат книги.</div>
        <button onclick="checkAnswer(this, '에서')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>이건 민수<input type="text" data-answer="의"> 가방이에요.</div>
        <div>Это сумка Минсу.</div>
        <button onclick="checkAnswer(this, '의')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>누가 회의가 언제 있는지 모른<input type="text" data-answer="다">.</div>
        <div>Никто не знает, когда будет собрание.</div>
        <button onclick="checkAnswer(this, '다')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>저는 주말에 공부하<input type="text" data-answer="는데"> 음악을 듣고 싶어요.</div>
        <div>Я хочу слушать музыку, когда учусь по выходным.</div>
        <button onclick="checkAnswer(this, '는데')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>방에 컴퓨터<input type="text" data-answer="가"> 없어요.</div>
        <div>В комнате нет компьютера.</div>
        <button onclick="checkAnswer(this, '가')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>노래를 듣다<input type="text" data-answer="가"> 전화가 왔어요.</div>
        <div>Пока я слушал(а) песню, позвонили.</div>
        <button onclick="checkAnswer(this, '가')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>친구에게 책을 빌려<input type="text" data-answer="주다">.</div>
        <div>Я одолжил(а) книгу другу.</div>
        <button onclick="checkAnswer(this, '주다')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>내년에 한국에 가<input type="text" data-answer="게 되다">었어요.</div>
        <div>В следующем году получилось поехать в Корею.</div>
        <button onclick="checkAnswer(this, '게 되다')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>이거<input type="text" data-answer="만"> 주세요.</div>
        <div>Дайте мне только это.</div>
        <button onclick="checkAnswer(this, '만')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>시간<input type="text" data-answer="을/를"> 일이나 공부를 했어요?</div>
        <div>Ты провёл(а) время, занимаясь работой или учёбой?</div>
        <button onclick="checkAnswer(this, '을/를')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>집에 가<input type="text" data-answer="려고"> 저녁을 먹으려고 해요.</div>
        <div>Я собираюсь пойти домой и поужинать.</div>
        <button onclick="checkAnswer(this, '려고')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>선생님<input type="text" data-answer="께"> 질문을 했어요.</div>
        <div>Я задал(а) вопрос учителю.</div>
        <button onclick="checkAnswer(this, '께')">Проверить</button>
        <div class="result"></div>
      </div>
      
      <div class="test-question">
        <div>저는 내일부터 다이어트를 하<input type="text" data-answer="기로 하다">.</div>
        <div>Я решил(а) садиться на диету с завтрашнего дня.</div>
        <button onclick="checkAnswer(this, '기로 하다')">Проверить</button>
        <div class="result"></div>
      </div>
    </div>
  </div>

  <footer>
    <p>© 2025 K-Study. All rights reserved.</p>
  </footer>

  <script>
    // Toggle translation visibility
    document.querySelectorAll('.toggle-translation').forEach(button => {
      button.addEventListener('click', () => {
        const translation = button.parentElement.nextElementSibling;
        translation.style.display = translation.style.display === 'block' ? 'none' : 'block';
      });
    });

    // Grammar popups
    const grammarExplanations = {
      '1': 'N + 은/는: Тематические частицы 은/는 обозначают тему предложения или объект обсуждения. Они эквивалентны английским оборотам "as for..." или "regarding...". 는 — после гласных, 은 — после согласных. В тексте: 동네 사람들은 — "что касается жителей деревни". Пример: 저는 학생입니다. (Что касается меня, я — студент.)',
      '2': 'N + 을/를: Объектная частица указывает на прямое дополнение. 를 — после гласных, 을 — после согласных. В тексте: 할아버지와 할머니를 — "дедушку и бабушку". Пример: 밥을 먹어요. (Ем рис.)',
      '3': 'N + 이/가: Именительный падеж, указывает на подлежащее. 이 — после согласных, 가 — после гласных. В тексте: 마음씨가 고약한 할아버지가 — "старик с дурным нравом". Пример: 고양이가 있어요. (Кот есть.)',
      '4': 'N + 입니다: Вежливая связка «есть/это» после существительного. В тексте: 것입니다 — "(объяснение того факта)". Пример: 저는 학생입니다. (Я — студент.)',
      '9': 'N + 와/과/하고: Совместный падеж для соединения однородных членов. В тексте: 할아버지와 할머니가 — "дедушка и бабушка". Пример: 친구와 영화를 봤어요. (С другом посмотрел фильм.)',
      '10': 'V/A + ㅂ니다/습니다: Официально-вежливый стиль. ㅂ니다 — после гласных, 습니다 — после согласных. В тексте: 있었습니다 — "было". Пример: 어제는 비가 왔습니다. (Вчера шёл дождь.)',
      '12': 'N + 에서: Дательно-местный падеж, обозначает место действия или исходный пункт. В тексте: 이 나무에서 저 나무로 — "с одного дерева на другое". Пример: 도서관에서 공부해요. (Учусь в библиотеке.)',
      '13': 'N + 에: Дательный падеж, обозначает время, направление или местонахождение. В тексте: 깊은 산골에 — "в глубокой горной долине". Пример: 학교에 갑니다. (Я иду в школу.)',
      '14': 'A/V + 지 않다: Отрицание для глаголов и прилагательных. В тексте: 돌아오지 않자 — "не вернулся и". Пример: 집에 가지 않아요. (Не иду домой.)',
      '19': 'V/A + 고: Соединяет однородные члены или указывает последовательность. В тексте: 심술 많고 — "сварливый и". Пример: 밥을 먹고 공부해요. (Поел и учусь.)',
      '20': 'V/A + 았/었/였다: Прошедшее время. 았 — после ㅏ/ㅗ, 었 — после остальных гласных, 였다 — после согласных. В тексте: 많았습니다 — "было много". Пример: 어제 공부했어요. (Вчера я учился.)',
      '23': 'N + 도: Частица «тоже, также». В тексте: 욕심도 — "и жадность тоже". Пример: 나도 갈 거예요. (Я тоже пойду.)',
      '24': 'N + 만: Частица «только». В тексте: 갓난아기만 — "только младенец". Пример: 물만 마셨어요. (Я пил только воду.)',
      '25': 'V/A + 지만: Указывает противопоставление или уступку. В тексте: 하고 싶었지만 — "хотел, но". Пример: 가고 싶지만 시간이 없어요. (Хочу пойти, но нет времени.)',
      '28': 'V/A + (으)시다: Уважительная форма. 시다 — после гласных или ㄹ, 으시다 — после согласных. В тексте: 착하신 — "добрые (уважительно)". Пример: 들어오십시요. (Заходите (уважительно).)',
      '33': 'V/A + 을/ㄹ까요?: Вежливый вопрос, выражающий предложение или сомнение. В тексте: 좋을까 — "было бы хорошо?". Пример: 갈까요? (Пойдём?)',
      '35': 'V + 다가: Указывает на прерванное действие или смену действия. В тексте: 따라가다가 — "гоняясь, затем". Пример: 밥을 먹다가 전화가 왔어요. (Ел, когда позвонили.)',
      '36': 'V + 고 있다: Указывает на продолжающееся действие. В тексте: 살고 있었습니다 — "жили". Пример: 지금 공부하고 있어요. (Сейчас я учусь.)',
      '37': 'V + 고 싶다: Выражает желание. В тексте: 하고 싶었지만 — "хотел, но". Пример: 한국에 가고 싶어요. (Хочу поехать в Корею.)',
      '38': 'V/A + (으)ㄹ 텐데: Выражает сожаление или предположение. В тексте: 오를 텐데 — "поднялась бы, но". Пример: 비가 안 왔으면 좋을 텐데. (Жаль, что идёт дождь.)',
      '40': 'V/A + 아/어/여야 하다: Выражает необходимость или обязанность. В тексте: 사셔야 해요 — "должны жить". Пример: 공부해야 해요. (Надо учиться.)',
      '42': 'V + 아/어/여 주다: Указывает на действие, выполненное для кого-то. В тексте: 해 주었습니다 — "рассказал (кому-то)". Пример: 도와주세요. (Помогите.)',
      '43': 'N + (으)로: Творительный падеж, обозначает направление, средство или способ. В тексте: 샘물로 — "к источнику". Пример: 버스로 학교에 가요. (Еду в школу на автобусе.)',
      '44': 'N + 에게/한테/께: Дательный падеж для обозначения получателя действия. В тексте: 할머니에게 — "бабушке". Пример: 친구에게 선물을 줬어요. (Дал другу подарок.)',
      '45': 'N + 의: Родительный падеж, обозначает принадлежность. В тексте: 할아버지의 — "дедушкин". Пример: 나의 책. (Моя книга.)',
      '46': 'V + (으)면: Условное предложение. В тексте: 젊었으면 — "если бы был моложе". Пример: 시간이 있으면 갈게요. (Если будет время, я пойду.)',
      '47': 'A + (으)ㄴ + N: Определительная форма прилагательного. В тексте: 마음씨 착한 — "добросердечный". Пример: 예쁜 꽃. (Красивый цветок.)',
      '49': 'V + 을/ㄹ 수 없다: Выражает невозможность действия. В тексте: 할 수 없었습니다 — "не мог сделать". Пример: 수영할 수 없어요. (Я не умею плавать.)',
      '50': 'V + (으)려고: Выражает намерение. В тексте: 지나가려고 — "собиралась пройти мимо". Пример: 밥을 먹으려고 해요. (Собираюсь поесть.)',
      '52': 'V/A + (으)면서: Указывает на одновременное действие. В тексте: 혀를 차며 — "цокая языком". Пример: 웃으면서 말했어요. (Говорил, смеясь.)',
      '59': 'V/A + 는데: Указывает на контекст, причину или противопоставление. В тексте: 앉았는데 — "сел, и". Пример: 배고프는데 밥이 없어요. (Я голоден, но еды нет.)',
      '70': 'V + 는지 알다/모르다: Вопросительное придаточное предложение. В тексте: 알았는지 — "как будто знал". Пример: 어디 가는지 몰라요. (Не знаю, куда он идёт.)',
      '71': 'V + 기로 하다: Выражает решение сделать что-либо. В тексте: 키우기로 했습니다 — "решили воспитать". Пример: 내일 가기로 했어요. (Решил пойти завтра.)',
      '82': 'V + 게 되다: Указывает на непреднамеренное или изменившееся состояние. В тексте: 걱정이 되었습니다 — "забеспокоилась". Пример: 늦게 됐어요. (Я опоздал.)'
    };

    // Grammar popups
    document.querySelectorAll('.grammar-point').forEach(point => {
      const grammarId = point.getAttribute('data-grammar');
      const popup = document.createElement('div');
      popup.className = 'grammar-popup';
      popup.innerHTML = grammarExplanations[grammarId];
      point.appendChild(popup);
    });

    // Smooth scroll for grammar links
    document.querySelectorAll('.grammar-link').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = link.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        targetElement.scrollIntoView({ behavior: 'smooth' });
        // Highlight the specific grammar point in the sentence
        const grammarId = link.getAttribute('data-grammar');
        const grammarPoints = targetElement.querySelectorAll(`.grammar-point[data-grammar="${grammarId}"]`);
        grammarPoints.forEach(point => {
          point.style.backgroundColor = '#e0f7fa';
          setTimeout(() => {
            point.style.backgroundColor = '';
          }, 2000);
        });
      });
    });

    // Tab switching functionality
    document.querySelectorAll('.tab-button').forEach(button => {
      button.addEventListener('click', () => {
        // Remove active class from all buttons and content
        document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
        document.querySelectorAll('.grammar-list, .vocabulary-list').forEach(content => content.classList.remove('active'));

        // Add active class to clicked button and corresponding content
        button.classList.add('active');
        const tab = button.getAttribute('data-tab');
        document.querySelector(`.${tab}-list`).classList.add('active');
      });
    });

    // Test answer checking
    function checkAnswer(button, correctAnswer) {
      const input = button.previousElementSibling.querySelector('input');
      const result = button.nextElementSibling;
      const userAnswer = input.value.trim();
      const answers = correctAnswer.split('/');

      if (answers.includes(userAnswer)) {
        result.textContent = 'Правильно!';
        result.className = 'result correct';
      } else {
        result.textContent = `Неправильно. Правильный ответ: ${correctAnswer}`;
        result.className = 'result incorrect';
      }
    }
  </script>
</body>
</html>
